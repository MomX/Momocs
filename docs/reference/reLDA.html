<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>"Redo" a LDA on new data — reLDA • Momocs</title>

<!-- jquery -->
<script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">

<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  
<meta property="og:title" content=""Redo" a LDA on new data — reLDA" />

<meta property="og:description" content="Basically a wrapper around predict.lda from the package MASS. Uses a LDA model
to classify new data." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src='https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Momocs</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">1.2.9.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Momocs_grindr.html">Layered shape and multivariate plots with grindr</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/MomX/Momocs">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>"Redo" a LDA on new data</h1>
    <small class="dont-index">Source: <a href='https://github.com/MomX/Momocs//blob/master/R/mult-LDA.R'><code>R/mult-LDA.R</code></a></small>
    <div class="hidden name"><code>reLDA.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>Basically a wrapper around predict.lda from the package MASS. Uses a LDA model
to classify new data.</p>
    
    </div>

    <pre class="usage"><span class='fu'>reLDA</span>(<span class='no'>newdata</span>, <span class='no'>LDA</span>)

<span class='co'># S3 method for default</span>
<span class='fu'>reLDA</span>(<span class='no'>newdata</span>, <span class='no'>LDA</span>)

<span class='co'># S3 method for PCA</span>
<span class='fu'>reLDA</span>(<span class='no'>newdata</span>, <span class='no'>LDA</span>)

<span class='co'># S3 method for Coe</span>
<span class='fu'>reLDA</span>(<span class='no'>newdata</span>, <span class='no'>LDA</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>newdata</th>
      <td><p>to use, a <a href='PCA.html'>PCA</a> or any <a href='Coe.html'>Coe</a> object</p></td>
    </tr>
    <tr>
      <th>LDA</th>
      <td><p>a <a href='LDA.html'>LDA</a> object</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>a list with components (from ?predict.lda ).</p><ul>
<li><p>class factor of classification</p></li>
<li><p>posterior posterior probabilities for the classes</p></li>
<li><p>x the scores of test cases</p></li>
<li><p>res data.frame of the results</p></li>
<li><p>CV.tab a confusion matrix of the results</p></li>
<li><p>CV.correct proportion of the diagonal of CV.tab</p></li>
<li><p>newdata the data used to calculate passed to predict.lda</p></li>
</ul>

    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>Note</h2>

    <p>Uses the same number of PC axis as the LDA object provided. You should probably use <a href='rePCA.html'>rePCA</a> in
conjunction with reLDA to get 'homologous' scores.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># We select the first 10 individuals in bot,</span>
<span class='co'># for whisky and beer bottles. It will be our referential.</span>
<span class='no'>bot1</span>   <span class='kw'>&lt;-</span> <span class='fu'><a href='slice.html'>slice</a></span>(<span class='no'>bot</span>, <span class='fu'>c</span>(<span class='fl'>1</span>:<span class='fl'>10</span>, <span class='fl'>21</span>:<span class='fl'>30</span>))
<span class='co'># Same thing for the other 10 individuals.</span>
<span class='co'># It will be our unknown dataset on which we want</span>
<span class='co'># to calculate classes.</span>
<span class='no'>bot2</span>   <span class='kw'>&lt;-</span> <span class='fu'><a href='slice.html'>slice</a></span>(<span class='no'>bot</span>, <span class='fu'>c</span>(<span class='fl'>11</span>:<span class='fl'>20</span>, <span class='fl'>31</span>:<span class='fl'>40</span>))

<span class='co'># We calculate efourier on these two datasets</span>
<span class='no'>bot1.f</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='efourier.html'>efourier</a></span>(<span class='no'>bot1</span>, <span class='fl'>8</span>)</div><div class='output co'>#&gt; <span class='message'>you selected `norm=TRUE`, which is not recommended. See ?efourier</span></div><div class='input'><span class='no'>bot2.f</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='efourier.html'>efourier</a></span>(<span class='no'>bot2</span>, <span class='fl'>8</span>)</div><div class='output co'>#&gt; <span class='message'>you selected `norm=TRUE`, which is not recommended. See ?efourier</span></div><div class='input'>
<span class='co'># Here we obtain our LDA model: first, a PCA, then a LDA</span>
<span class='no'>bot1.p</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='PCA.html'>PCA</a></span>(<span class='no'>bot1.f</span>)
<span class='no'>bot1.l</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='LDA.html'>LDA</a></span>(<span class='no'>bot1.p</span>, <span class='st'>"type"</span>)</div><div class='output co'>#&gt; <span class='message'>6 PC retained</span></div><div class='input'>
<span class='co'># we redo the same PCA since we worked with scores</span>
<span class='no'>bot2.p</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='rePCA.html'>rePCA</a></span>(<span class='no'>bot1.p</span>, <span class='no'>bot2.f</span>)

<span class='co'># we finally "predict" with the model obtained before</span>
<span class='no'>bot2.l</span> <span class='kw'>&lt;-</span> <span class='fu'>reLDA</span>(<span class='no'>bot2.p</span>, <span class='no'>bot1.l</span>)
<span class='no'>bot2.l</span></div><div class='output co'>#&gt; $class
#&gt;  [1] whisky whisky whisky whisky beer   whisky whisky beer   whisky whisky
#&gt; [11] beer   beer   beer   whisky beer   whisky beer   beer   beer   beer  
#&gt; Levels: beer whisky
#&gt; 
#&gt; $posterior
#&gt;                        beer       whisky
#&gt; jupiler        1.588583e-05 9.999841e-01
#&gt; kingfisher     9.172746e-02 9.082725e-01
#&gt; latrappe       2.276644e-02 9.772336e-01
#&gt; lindemanskriek 5.840887e-03 9.941591e-01
#&gt; nicechouffe    7.031244e-01 2.968756e-01
#&gt; pecheresse     1.773492e-06 9.999982e-01
#&gt; sierranevada   2.144720e-04 9.997855e-01
#&gt; tanglefoot     9.372426e-01 6.275742e-02
#&gt; tauro          1.183763e-05 9.999882e-01
#&gt; westmalle      1.157018e-04 9.998843e-01
#&gt; jb             9.975581e-01 2.441892e-03
#&gt; johnniewalker  8.473188e-01 1.526812e-01
#&gt; magallan       1.000000e+00 3.192177e-09
#&gt; makersmark     1.093923e-01 8.906077e-01
#&gt; oban           9.999880e-01 1.199656e-05
#&gt; oldpotrero     2.425202e-02 9.757480e-01
#&gt; redbreast      9.999820e-01 1.795276e-05
#&gt; tamdhu         8.589367e-01 1.410633e-01
#&gt; wildturkey     9.999905e-01 9.478960e-06
#&gt; yoichi         9.744921e-01 2.550790e-02
#&gt; 
#&gt; $x
#&gt;                       LD1
#&gt; jupiler         2.9341875
#&gt; kingfisher      0.6087998
#&gt; latrappe        0.9982650
#&gt; lindemanskriek  1.3640608
#&gt; nicechouffe    -0.2289504
#&gt; pecheresse      3.5163722
#&gt; sierranevada    2.2430113
#&gt; tanglefoot     -0.7179197
#&gt; tauro           3.0122943
#&gt; westmalle       2.4069164
#&gt; jb             -1.5965434
#&gt; johnniewalker  -0.4550552
#&gt; magallan       -5.1945591
#&gt; makersmark      0.5568188
#&gt; oban           -3.0087530
#&gt; oldpotrero      0.9810760
#&gt; redbreast      -2.9017076
#&gt; tamdhu         -0.4796867
#&gt; wildturkey     -3.0712994
#&gt; yoichi         -0.9673275
#&gt; 
#&gt; $newdata
#&gt;                         PC1           PC2           PC3           PC4
#&gt; jupiler         0.047558323  0.0009556964  1.132936e-02  0.0038135827
#&gt; kingfisher      0.031019804 -0.0092893037  5.639726e-03 -0.0006984167
#&gt; latrappe       -0.140467542 -0.0368452619 -8.204030e-03  0.0074130929
#&gt; lindemanskriek  0.028727335  0.0093711139  6.350860e-03 -0.0040530566
#&gt; nicechouffe     0.014137615  0.0087352325  1.464619e-03 -0.0102437348
#&gt; pecheresse      0.046019149  0.0022071144  1.263256e-02  0.0019483303
#&gt; sierranevada   -0.045574138 -0.0101119946  4.587309e-03  0.0139742083
#&gt; tanglefoot     -0.083848693 -0.0019607973 -1.265634e-02  0.0086813906
#&gt; tauro           0.047804962  0.0010302173  1.166643e-02  0.0038315686
#&gt; westmalle       0.043104213  0.0006618641  9.661507e-03 -0.0013659528
#&gt; jb              0.033826795  0.0043832070 -8.789680e-03  0.0012973929
#&gt; johnniewalker   0.027546559 -0.0433572509  5.503569e-07 -0.0080407513
#&gt; magallan        0.062757370 -0.0344623824 -1.994348e-02 -0.0054305457
#&gt; makersmark     -0.066073754  0.0410683917  2.500513e-02  0.0028195062
#&gt; oban            0.056001340  0.0017415641 -1.469954e-02 -0.0024240694
#&gt; oldpotrero     -0.039446859  0.0560097481  1.838963e-02 -0.0143275711
#&gt; redbreast      -0.070467008  0.0453726482 -1.443590e-03 -0.0008230393
#&gt; tamdhu          0.040245919 -0.0099990120 -8.849077e-03  0.0054926858
#&gt; wildturkey      0.009047941  0.0118958979 -1.825586e-02  0.0002205672
#&gt; yoichi         -0.041919333 -0.0374066929 -1.388610e-02 -0.0020851880
#&gt;                          PC5          PC6
#&gt; jupiler         0.0005273680  0.003411272
#&gt; kingfisher     -0.0025505108  0.000645225
#&gt; latrappe        0.0014020218  0.011164248
#&gt; lindemanskriek -0.0005455535  0.004342575
#&gt; nicechouffe    -0.0031229185  0.005062708
#&gt; pecheresse      0.0030349867  0.005659553
#&gt; sierranevada   -0.0050825894  0.003254912
#&gt; tanglefoot     -0.0051466484  0.003608419
#&gt; tauro           0.0011495431  0.003297832
#&gt; westmalle       0.0015195495  0.004960376
#&gt; jb             -0.0020355558 -0.003538980
#&gt; johnniewalker  -0.0046821155  0.006875580
#&gt; magallan        0.0055312084 -0.011826574
#&gt; makersmark      0.0039534995 -0.017991125
#&gt; oban            0.0001554770 -0.005786238
#&gt; oldpotrero      0.0023407200 -0.001001825
#&gt; redbreast      -0.0038050474 -0.012566253
#&gt; tamdhu         -0.0011719141 -0.000222802
#&gt; wildturkey     -0.0020315441 -0.003880876
#&gt; yoichi          0.0105600234  0.004531973
#&gt; </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#note">Note</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://www.vincentbonhomme.fr'>Vincent Bonhomme</a>, Julien Claude.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
   </div>

  

  </body>
</html>

