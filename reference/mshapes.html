<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Mean shape calculation for Coo, Coe, etc. — MSHAPES • Momocs</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  

<meta property="og:title" content="Mean shape calculation for Coo, Coe, etc. — MSHAPES" />
<meta property="og:description" content="Quite a versatile function that calculates mean (or median, or whatever function)
on list or an array of shapes, an Ldk object. It can also be used on Coe objects.
In that case, the reverse transformation (from coefficients to shapes) is calculated, (within
groups defined with the fac argument if provided) and the Coe object is also returned
(in $Coe) along with a list of shapes (in $shp) and can then be passed to plot_MSHAPES." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Momocs</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.3.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/MomX/Momocs">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Mean shape calculation for Coo, Coe, etc.</h1>
    <small class="dont-index">Source: <a href='https://github.com/MomX/Momocs/blob/master/R/mult-MSHAPESs.R'><code>R/mult-MSHAPESs.R</code></a></small>
    <div class="hidden name"><code>MSHAPES.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Quite a versatile function that calculates mean (or median, or whatever function)
on list or an array of shapes, an Ldk object. It can also be used on Coe objects.
In that case, the reverse transformation (from coefficients to shapes) is calculated, (within
groups defined with the fac argument if provided) and the Coe object is <em>also</em> returned
(in <code>$Coe</code>) along with a list of shapes (in <code>$shp</code>) and can then be passed to <code>plot_MSHAPES</code>.</p>
    </div>

    <pre class="usage"><span class='fu'>MSHAPES</span>(<span class='no'>x</span>, <span class='kw'>fac</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>FUN</span> <span class='kw'>=</span> <span class='no'>mean</span>, <span class='kw'>nb.pts</span> <span class='kw'>=</span> <span class='fl'>120</span>, <span class='no'>...</span>)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a list, array, Ldk, LdkCoe, OutCoe or OpnCoe or PCA object</p></td>
    </tr>
    <tr>
      <th>fac</th>
      <td><p>factor specification for <a href='fac_dispatcher.html'>fac_dispatcher</a></p></td>
    </tr>
    <tr>
      <th>FUN</th>
      <td><p>a function to compute the mean shape (<a href='https://rdrr.io/r/base/mean.html'>mean</a> by default, by <a href='https://rdrr.io/r/stats/median.html'>median</a> can be considered)</p></td>
    </tr>
    <tr>
      <th>nb.pts</th>
      <td><p>numeric the number of points for calculated shapes (only Coe objects)</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>useless here.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>the averaged shape; on Coe objects, a list with two components: <code>$Coe</code> object of the same class, and
<code>$shp</code> a list of matrices of (x, y) coordinates. On <a href='PCA.html'>PCA</a> and <a href='LDA.html'>LDA</a> objects, the FUN (typically mean or median)
of scores on <code>PCs</code> or <code>LDs</code>. This method used on the latter objects may be moved to another function at some point.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other multivariate: 
<code><a href='CLUST.html'>CLUST</a>()</code>,
<code><a href='KMEANS.html'>KMEANS</a>()</code>,
<code><a href='KMEDOIDS.html'>KMEDOIDS</a>()</code>,
<code><a href='LDA.html'>LDA</a>()</code>,
<code><a href='MANOVA_PW.html'>MANOVA_PW</a>()</code>,
<code><a href='MANOVA.html'>MANOVA</a>()</code>,
<code><a href='MDS.html'>MDS</a>()</code>,
<code><a href='NMDS.html'>NMDS</a>()</code>,
<code><a href='PCA.html'>PCA</a>()</code>,
<code><a href='classification_metrics.html'>classification_metrics</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>#### on shapes</span>
<span class='fu'>MSHAPES</span>(<span class='no'>wings</span>)</div><div class='output co'>#&gt;               x            y
#&gt; 1  -0.472151969  0.026257480
#&gt; 2   0.009588976  0.082756693
#&gt; 3   0.231342520  0.063322047
#&gt; 4   0.249218898  0.044129134
#&gt; 5   0.254361417  0.022457480
#&gt; 6   0.249206299  0.003249606
#&gt; 7   0.230685827 -0.017059843
#&gt; 8   0.186659843 -0.041403937
#&gt; 9   0.116231496 -0.063584252
#&gt; 10  0.030126772 -0.087316535
#&gt; 11 -0.080339370 -0.103129134
#&gt; 12 -0.405025984 -0.014459055
#&gt; 13 -0.388690551  0.023895276
#&gt; 14 -0.177349606  0.029181102
#&gt; 15  0.066421260  0.043376378
#&gt; 16 -0.027141732  0.019349606
#&gt; 17  0.067113386 -0.009022047
#&gt; 18 -0.140259843 -0.022011024</div><div class='input'><span class='fu'>MSHAPES</span>(<span class='no'>wings</span>$<span class='no'>coo</span>)</div><div class='output co'>#&gt;               x            y
#&gt; 1  -0.472151969  0.026257480
#&gt; 2   0.009588976  0.082756693
#&gt; 3   0.231342520  0.063322047
#&gt; 4   0.249218898  0.044129134
#&gt; 5   0.254361417  0.022457480
#&gt; 6   0.249206299  0.003249606
#&gt; 7   0.230685827 -0.017059843
#&gt; 8   0.186659843 -0.041403937
#&gt; 9   0.116231496 -0.063584252
#&gt; 10  0.030126772 -0.087316535
#&gt; 11 -0.080339370 -0.103129134
#&gt; 12 -0.405025984 -0.014459055
#&gt; 13 -0.388690551  0.023895276
#&gt; 14 -0.177349606  0.029181102
#&gt; 15  0.066421260  0.043376378
#&gt; 16 -0.027141732  0.019349606
#&gt; 17  0.067113386 -0.009022047
#&gt; 18 -0.140259843 -0.022011024</div><div class='input'><span class='fu'>MSHAPES</span>(<span class='fu'><a href='coo_sample.html'>coo_sample</a></span>(<span class='no'>bot</span>, <span class='fl'>24</span>)$<span class='no'>coo</span>)</div><div class='output co'>#&gt;          x       y
#&gt; 1   60.725 419.125
#&gt; 2   58.350 344.200
#&gt; 3   59.025 266.000
#&gt; 4   59.925 189.900
#&gt; 5   60.100 112.650
#&gt; 6   72.025  40.300
#&gt; 7  146.625  21.375
#&gt; 8  222.175  24.600
#&gt; 9  278.800  63.475
#&gt; 10 286.850 136.775
#&gt; 11 287.250 211.100
#&gt; 12 287.925 288.400
#&gt; 13 287.700 365.725
#&gt; 14 283.325 441.375
#&gt; 15 262.675 517.250
#&gt; 16 237.325 586.950
#&gt; 17 222.700 664.275
#&gt; 18 215.900 739.350
#&gt; 19 208.550 809.525
#&gt; 20 137.150 808.650
#&gt; 21 128.475 739.425
#&gt; 22 123.650 663.775
#&gt; 23 109.650 590.000
#&gt; 24  83.625 514.500</div><div class='input'><span class='fu'><a href='stack.Coo.html'>stack</a></span>(<span class='no'>wings</span>)</div><div class='output co'>#&gt; <span class='message'>will soon be deprecated, see ?pile</span></div><div class='input'><span class='fu'><a href='coo_draw.html'>coo_draw</a></span>(<span class='fu'>MSHAPES</span>(<span class='no'>wings</span>))</div><div class='img'><img src='MSHAPES-1.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='no'>bot.f</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='efourier.html'>efourier</a></span>(<span class='no'>bot</span>, <span class='fl'>12</span>)</div><div class='output co'>#&gt; <span class='message'>`norm=TRUE` is used and this may be troublesome. See ?efourier</span></div><div class='input'><span class='fu'>MSHAPES</span>(<span class='no'>bot.f</span>) <span class='co'># the mean (global) shape</span></div><div class='output co'>#&gt; <span class='message'>no 'fac' provided, returns meanshape</span></div><div class='output co'>#&gt;                   x             y
#&gt;   [1,]  1.168906286 -0.0001651753
#&gt;   [2,]  1.163078247  0.0421600553
#&gt;   [3,]  1.145987931  0.0791545836
#&gt;   [4,]  1.119080936  0.1068491537
#&gt;   [5,]  1.084462899  0.1234921899
#&gt;   [6,]  1.044515489  0.1298160330
#&gt;   [7,]  1.001501085  0.1286134238
#&gt;   [8,]  0.957247869  0.1237878526
#&gt;   [9,]  0.912978161  0.1191956670
#&gt;  [10,]  0.869298497  0.1176432074
#&gt;  [11,]  0.826324964  0.1203279475
#&gt;  [12,]  0.783884894  0.1268487171
#&gt;  [13,]  0.741725082  0.1357159282
#&gt;  [14,]  0.699667837  0.1451353059
#&gt;  [15,]  0.657683275  0.1537690869
#&gt;  [16,]  0.615878472  0.1612150898
#&gt;  [17,]  0.574430083  0.1680667629
#&gt;  [18,]  0.533499333  0.1755775102
#&gt;  [19,]  0.493164879  0.1850912925
#&gt;  [20,]  0.453393981  0.1974710400
#&gt;  [21,]  0.414053341  0.2127369864
#&gt;  [22,]  0.374945749  0.2300322600
#&gt;  [23,]  0.335852608  0.2479030949
#&gt;  [24,]  0.296566207  0.2647662777
#&gt;  [25,]  0.256905612  0.2793783445
#&gt;  [26,]  0.216720688  0.2911371254
#&gt;  [27,]  0.175894459  0.3001249134
#&gt;  [28,]  0.134352476  0.3069092041
#&gt;  [29,]  0.092080418  0.3122084326
#&gt;  [30,]  0.049142076  0.3165718347
#&gt;  [31,]  0.005684547  0.3202014303
#&gt;  [32,] -0.038080617  0.3229727379
#&gt;  [33,] -0.081922450  0.3246211931
#&gt;  [34,] -0.125651137  0.3249912594
#&gt;  [35,] -0.169173183  0.3242231538
#&gt;  [36,] -0.212517809  0.3227854829
#&gt;  [37,] -0.255819333  0.3213351308
#&gt;  [38,] -0.299256747  0.3204663421
#&gt;  [39,] -0.342970452  0.3204641335
#&gt;  [40,] -0.386988991  0.3211796377
#&gt;  [41,] -0.431199127  0.3220947589
#&gt;  [42,] -0.475378578  0.3225609447
#&gt;  [43,] -0.519286078  0.3221164568
#&gt;  [44,] -0.562776943  0.3207428677
#&gt;  [45,] -0.605894989  0.3189350982
#&gt;  [46,] -0.648891824  0.3175276310
#&gt;  [47,] -0.692145046  0.3173174414
#&gt;  [48,] -0.735982396  0.3186132956
#&gt;  [49,] -0.780457859  0.3208847676
#&gt;  [50,] -0.825153563  0.3226624581
#&gt;  [51,] -0.869086061  0.3217583294
#&gt;  [52,] -0.910772394  0.3157606556
#&gt;  [53,] -0.948465170  0.3026542245
#&gt;  [54,] -0.980510370  0.2813630409
#&gt;  [55,] -1.005735148  0.2520318883
#&gt;  [56,] -1.023752227  0.2159499153
#&gt;  [57,] -1.035081884  0.1751434820
#&gt;  [58,] -1.041039987  0.1317817301
#&gt;  [59,] -1.043407694  0.0876037220
#&gt;  [60,] -1.043964872  0.0435658071
#&gt;  [61,] -1.044013564 -0.0001747867
#&gt;  [62,] -1.044025203 -0.0439492146
#&gt;  [63,] -1.043512254 -0.0880697136
#&gt;  [64,] -1.041161156 -0.1323293477
#&gt;  [65,] -1.035188270 -0.1757099138
#&gt;  [66,] -1.023817167 -0.2164219884
#&gt;  [67,] -1.005743392 -0.2522778444
#&gt;  [68,] -0.980460978 -0.2812740940
#&gt;  [69,] -0.948369940 -0.3021819671
#&gt;  [70,] -0.910650551 -0.3149377945
#&gt;  [71,] -0.868957121 -0.3206959085
#&gt;  [72,] -0.825030797 -0.3215245758
#&gt;  [73,] -0.780344469 -0.3198490360
#&gt;  [74,] -0.735871551 -0.3178294420
#&gt;  [75,] -0.692023558 -0.3168762464
#&gt;  [76,] -0.648746041 -0.3174481558
#&gt;  [77,] -0.605716737 -0.3191716238
#&gt;  [78,] -0.562567403 -0.3212066058
#&gt;  [79,] -0.519056221 -0.3227031290
#&gt;  [80,] -0.475145999 -0.3231749465
#&gt;  [81,] -0.430982360 -0.3226635945
#&gt;  [82,] -0.386801287 -0.3216571441
#&gt;  [83,] -0.342815151 -0.3208256181
#&gt;  [84,] -0.299125898 -0.3207013096
#&gt;  [85,] -0.255696084 -0.3214429085
#&gt;  [86,] -0.212381865 -0.3227761919
#&gt;  [87,] -0.169007586 -0.3241225855
#&gt;  [88,] -0.125448199 -0.3248451835
#&gt;  [89,] -0.081686941 -0.3244939182
#&gt;  [90,] -0.037829212 -0.3229368063
#&gt;  [91,]  0.005927348 -0.3203193572
#&gt;  [92,]  0.049350196 -0.3168750705
#&gt;  [93,]  0.092232630 -0.3126812931
#&gt;  [94,]  0.134436974 -0.3074850475
#&gt;  [95,]  0.175910258 -0.3006982100
#&gt;  [96,]  0.216675572 -0.2915894535
#&gt;  [97,]  0.256811552 -0.2796108642
#&gt;  [98,]  0.296433966 -0.2647280865
#&gt;  [99,]  0.335687496 -0.2476054872
#&gt; [100,]  0.374746057 -0.2295433326
#&gt; [101,]  0.413812022 -0.2121578168
#&gt; [102,]  0.453102987 -0.1969013652
#&gt; [103,]  0.492820622 -0.1845967071
#&gt; [104,]  0.533107240 -0.1751700190
#&gt; [105,]  0.574006481 -0.1677059544
#&gt; [106,]  0.615448834 -0.1608297786
#&gt; [107,]  0.657277055 -0.1532916765
#&gt; [108,]  0.699311281 -0.1445361651
#&gt; [109,]  0.741434152 -0.1350246853
#&gt; [110,]  0.783660554 -0.1261538349
#&gt; [111,]  0.826152488 -0.1197537224
#&gt; [112,]  0.869151275 -0.1173116512
#&gt; [113,]  0.912825186 -0.1191865197
#&gt; [114,]  0.957062915 -0.1241110447
#&gt; [115,]  1.001270984 -0.1292041692
#&gt; [116,]  1.044245114 -0.1305548005
#&gt; [117,]  1.084175273 -0.1242429094
#&gt; [118,]  1.118812297 -0.1075023934
#&gt; [119,]  1.145778947 -0.0796605231
#&gt; [120,]  1.162963747 -0.0425396294</div><div class='input'><span class='no'>ms</span> <span class='kw'>&lt;-</span> <span class='fu'>MSHAPES</span>(<span class='no'>bot.f</span>, <span class='st'>'type'</span>)
<span class='no'>ms</span>$<span class='no'>Coe</span></div><div class='output co'>#&gt; An OutCoe object [ elliptical Fourier analysis ]
#&gt; --------------------
#&gt;  - $coe: 2 outlines described, 12 harmonics
#&gt; <span style='color: #555555;'># A tibble: 2 x 2</span><span>
#&gt;   type   fake 
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> beer   c    
#&gt; </span><span style='color: #555555;'>2</span><span> whisky a    </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/class.html'>class</a></span>(<span class='no'>ms</span>$<span class='no'>Coe</span>)</div><div class='output co'>#&gt; [1] "OutCoe" "Coe"   </div><div class='input'><span class='no'>ms</span> <span class='kw'>&lt;-</span> <span class='no'>ms</span>$<span class='no'>shp</span>
<span class='fu'><a href='coo_plot.html'>coo_plot</a></span>(<span class='no'>ms</span>$<span class='no'>beer</span>)</div><div class='input'><span class='fu'><a href='coo_draw.html'>coo_draw</a></span>(<span class='no'>ms</span>$<span class='no'>whisky</span>, <span class='kw'>border</span><span class='kw'>=</span><span class='st'>'forestgreen'</span>)</div><div class='img'><img src='MSHAPES-2.png' alt='' width='700' height='433' /></div><div class='input'><span class='kw'>if</span> (<span class='fl'>FALSE</span>) {
<span class='fu'><a href='tps_arr.html'>tps_arr</a></span>(<span class='no'>ms</span>$<span class='no'>whisky</span>, <span class='no'>ms</span>$<span class='no'>beer</span>) <span class='co'>#etc.</span>
}

<span class='no'>op</span> <span class='kw'>&lt;-</span> <span class='no'>olea</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='filter.html'>filter</a></span>(<span class='no'>view</span><span class='kw'>==</span><span class='st'>"VL"</span>) <span class='kw'>%&gt;%</span> <span class='fu'><a href='npoly.html'>npoly</a></span>(<span class='fl'>5</span>)</div><div class='output co'>#&gt; <span class='message'>'nb.pts' missing and set to: 91</span></div><div class='input'><span class='no'>ms</span> <span class='kw'>&lt;-</span> <span class='fu'>MSHAPES</span>(<span class='no'>op</span>, ~<span class='no'>var</span>) <span class='co'>#etc</span>
<span class='no'>ms</span>$<span class='no'>Coe</span></div><div class='output co'>#&gt; An OpnCoe object [ npoly analysis ]
#&gt; --------------------
#&gt;  - $coe: 3 open outlines described
#&gt;  - $baseline1: (-0.5; 0), $baseline2: (0.5; 0)
#&gt; </span><span style='color: #555555;'># A tibble: 3 x 4</span><span>
#&gt;   var    domes view  ind  
#&gt;   </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> Aglan  cult  VL    O10  
#&gt; </span><span style='color: #555555;'>2</span><span> MouBo1 wild  VL    O10  
#&gt; </span><span style='color: #555555;'>3</span><span> PicMa  cult  VL    O10  </div><div class='input'><span class='fu'><a href='panel.Coo.html'>panel</a></span>(<span class='fu'><a href='Opn.html'>Opn</a></span>(<span class='no'>ms</span>$<span class='no'>shp</span>), <span class='kw'>names</span><span class='kw'>=</span><span class='fl'>TRUE</span>)</div><div class='img'><img src='MSHAPES-3.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='no'>wp</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='fgProcrustes.html'>fgProcrustes</a></span>(<span class='no'>wings</span>, <span class='kw'>tol</span><span class='kw'>=</span><span class='fl'>1e-4</span>)</div><div class='output co'>#&gt; iteration:  1 	gain: 53084 
#&gt; iteration:  2 	gain: 0.1323 
#&gt; iteration:  3 	gain: 0.056732 
#&gt; iteration:  4 	gain: 0.00012401 
#&gt; iteration:  5 	gain: 0.038609 
#&gt; iteration:  6 	gain: 0.018221 
#&gt; iteration:  7 	gain: 0.0014165 
#&gt; iteration:  8 	gain: 6.1489e-06 </div><div class='input'><span class='no'>ms</span> <span class='kw'>&lt;-</span> <span class='fu'>MSHAPES</span>(<span class='no'>wp</span>, <span class='fl'>1</span>)
<span class='fu'><a href='plot_MSHAPES.html'>plot_MSHAPES</a></span>(<span class='no'>ms</span>)</div><div class='img'><img src='MSHAPES-4.png' alt='' width='700' height='433' /></div><div class='input'>
<span class='co'># on PCA and LDA just return a data_frame</span>
<span class='no'>bot.f</span> <span class='kw'>%&gt;%</span> <span class='no'>PCA</span> <span class='kw'>%&gt;%</span> <span class='fu'>MSHAPES</span>(~<span class='no'>type</span>)</div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 2 x 41</span><span>
#&gt;   type       PC1      PC2      PC3      PC4      PC5      PC6      PC7      PC8
#&gt; </span><span style='color: #555555;'>*</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> beer  -</span><span style='color: #BB0000;'>0.003</span><span style='color: #BB0000;text-decoration: underline;'>96</span><span> -</span><span style='color: #BB0000;'>8.28</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span> -</span><span style='color: #BB0000;'>0.005</span><span style='color: #BB0000;text-decoration: underline;'>13</span><span> -</span><span style='color: #BB0000;'>0.003</span><span style='color: #BB0000;text-decoration: underline;'>75</span><span>  0.002</span><span style='text-decoration: underline;'>43</span><span> -</span><span style='color: #BB0000;'>0.002</span><span style='color: #BB0000;text-decoration: underline;'>00</span><span>  0.001</span><span style='text-decoration: underline;'>27</span><span> -</span><span style='color: #BB0000;'>8.98</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span>
#&gt; </span><span style='color: #555555;'>2</span><span> whis…  0.003</span><span style='text-decoration: underline;'>96</span><span>  8.28</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span>  0.005</span><span style='text-decoration: underline;'>13</span><span>  0.003</span><span style='text-decoration: underline;'>75</span><span> -</span><span style='color: #BB0000;'>0.002</span><span style='color: #BB0000;text-decoration: underline;'>43</span><span>  0.002</span><span style='text-decoration: underline;'>00</span><span> -</span><span style='color: #BB0000;'>0.001</span><span style='color: #BB0000;text-decoration: underline;'>27</span><span>  8.98</span><span style='color: #555555;'>e</span><span style='color: #BB0000;'>-4</span><span>
#&gt; </span><span style='color: #555555;'># … with 32 more variables: PC9 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC10 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC11 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC12 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>,</span><span>
#&gt; </span><span style='color: #555555;'>#   PC13 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC14 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC15 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC16 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC17 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC18 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>,</span><span>
#&gt; </span><span style='color: #555555;'>#   PC19 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC20 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC21 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC22 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC23 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC24 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>,</span><span>
#&gt; </span><span style='color: #555555;'>#   PC25 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC26 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC27 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC28 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC29 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC30 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>,</span><span>
#&gt; </span><span style='color: #555555;'>#   PC31 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC32 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC33 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC34 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC35 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC36 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>,</span><span>
#&gt; </span><span style='color: #555555;'>#   PC37 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC38 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC39 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span style='color: #555555;'>, PC40 </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span></div><div class='input'><span class='no'>bot.f</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='LDA.html'>LDA</a></span>(~<span class='no'>fake</span>) <span class='kw'>%&gt;%</span> <span class='fu'>MSHAPES</span>(~<span class='no'>fake</span>)</div><div class='output co'>#&gt; <span class='message'>removed these collinear columns:A1, B1, C1</span></div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 4 x 4</span><span>
#&gt;   fake     LD1    LD2    LD3
#&gt; </span><span style='color: #555555;'>*</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> a      -</span><span style='color: #BB0000;'>9.64</span><span>  0.662  2.65 
#&gt; </span><span style='color: #555555;'>2</span><span> b     -</span><span style='color: #BB0000;'>11.5</span><span>  -</span><span style='color: #BB0000;'>0.930</span><span> -</span><span style='color: #BB0000;'>2.36</span><span> 
#&gt; </span><span style='color: #555555;'>3</span><span> c       9.37  3.15  -</span><span style='color: #BB0000;'>0.792</span><span>
#&gt; </span><span style='color: #555555;'>4</span><span> d      11.7  -</span><span style='color: #BB0000;'>2.88</span><span>   0.505</div><div class='input'><span class='co'># LDA on ~fake but average on type</span>
<span class='no'>bot.f</span> <span class='kw'>%&gt;%</span> <span class='fu'><a href='LDA.html'>LDA</a></span>(~<span class='no'>fake</span>) <span class='kw'>%&gt;%</span> <span class='fu'>MSHAPES</span>(~<span class='no'>type</span>)</div><div class='output co'>#&gt; <span class='message'>removed these collinear columns:A1, B1, C1</span></div><div class='output co'>#&gt; </span><span style='color: #555555;'># A tibble: 2 x 4</span><span>
#&gt;   type     LD1    LD2    LD3
#&gt; </span><span style='color: #555555;'>*</span><span> </span><span style='color: #555555;font-style: italic;'>&lt;fct&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>  </span><span style='color: #555555;font-style: italic;'>&lt;dbl&gt;</span><span>
#&gt; </span><span style='color: #555555;'>1</span><span> beer    10.5  0.134 -</span><span style='color: #BB0000;'>0.144</span><span>
#&gt; </span><span style='color: #555555;'>2</span><span> whisky -</span><span style='color: #BB0000;'>10.5</span><span> -</span><span style='color: #BB0000;'>0.134</span><span>  0.144</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='http://www.vincentbonhomme.fr'>Vincent Bonhomme</a>, Julien Claude.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


